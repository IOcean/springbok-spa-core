!function(){"use-strict";const e=["pascalprecht.translate","ngSanitize","ngRoute"],t=angular.module("springbok.core",e);t.run(["endpoints",function(e){e.add("enums","public/constants")}])}(),function(){"use strict";function e(){this.encodeToBase64=function(e){return window.btoa(unescape(encodeURIComponent(e)))}}angular.module("springbok.core").service("encryptionUtils",e)}(),function(){"use strict";function e(){this.addSlashAtTheEndIfNotPresent=function(e){if(!s.isBlank(e)){var t=e.lastIndexOf("/"),n=t===e.length-1;n||(e+="/")}return e},this.processUrlWithPathVariables=function(e,t,n){var r,i=e;return _.isUndefined(t)||!_.isObject(t)?i:(_.each(_.keys(t),function(a){r=n+a,s.include(e,r)&&(i=i.replace(r,t[a]))}),i)}}angular.module("springbok.core").service("urlUtils",e)}(),function(){"use strict";function e(e,t){return{request:function(n){return e.$broadcast("showSpinner"),n||t.when(n)},requestError:function(n){return e.$broadcast("showSpinner"),t.reject(n)},response:function(n){return e.$broadcast("hideSpinner"),n||t.when(n)},responseError:function(t){return e.$broadcast("hideSpinner"),t}}}angular.module("springbok.core").factory("httpInterceptor",e),e.$inject=["$rootScope","$q"],angular.module("springbok.core").config(["$httpProvider",function(e){e.interceptors.push("httpInterceptor")}])}(),function(){"use strict";function e(e){e.debugEnabled(CONFIG.app.logDebugEnabled)}angular.module("springbok.core").config(e),e.$inject=["$logProvider"]}(),function(){"use strict";function e(e){e.useStaticFilesLoader({prefix:"/i18n/",suffix:".json"}),e.preferredLanguage(CONFIG.app.preferredLanguage),e.useMissingTranslationHandlerLog(),e.useSanitizeValueStrategy(null)}angular.module("springbok.core").config(e),e.$inject=["$translateProvider"]}(),function(){"use strict";function e(e,t){this.apiRootPath="",this.routes={},this.setApiRootPath=function(e){this.apiRootPath=t.addSlashAtTheEndIfNotPresent(e)},this.add=function(e,t){this.routes[e]=t},this.get=function(t,n){var r=this.routes[t];return s.isBlank(this.apiRootPath)&&e.debug("The API root path has not been set, call setApiRootPath(apiRootPath) to set the API root path, example : endpoints.setApiRootPath('http://client.iocean.fr/api/')"),this.apiRootPath+this.processParameters(r,n)},this.processParameters=function(e,n){return t.processUrlWithPathVariables(e,n,":")}}angular.module("springbok.core").service("endpoints",e),e.$inject=["$log","urlUtils"]}(),function(){"use strict";function e(){function e(){t.currentPage={htmlTitleKey:"",breadcrumbsSectionKey:"",breadcrumbsSubSectionKey:"",breadcrumbsUrl:"",headerKey:"",subHeaderKey:""}}var t=this;t.auth=!1,e(),t.routeChange=function(e,n){t.updateView(e),t.handleError(e.templateUrl,n)},t.updateView=function(e){t.handlePageInfos(e)},t.handlePageInfos=function(n){_.isUndefined(n)||_.isUndefined(n.htmlTitleKey)?e():(t.currentPage.htmlTitleKey=n.htmlTitleKey,t.currentPage.breadcrumbsSectionKey=n.breadcrumbsSectionKey,t.currentPage.breadcrumbsSubSectionKey=n.breadcrumbsSubSectionKey,t.currentPage.breadcrumbsUrl=n.breadcrumbsUrl,t.currentPage.headerKey=n.headerKey,t.currentPage.subHeaderKey=n.subHeaderKey)},t.handleError=function(e,n){(s.include(e,"404.html")||s.include(e,"500.html"))&&t.handlePageInfos(n)}}angular.module("springbok.core").service("navigation",e)}(),function(){"use strict";function e(e,t,n,r){var i=!1;this.data={},this.ready=t.defer(),this.load=function(){var t=this;i===!1&&e.get(r.get("enums")).success(function(e){t.data=e,i=!0,t.ready.resolve()}).error(function(){n.error("enumsService is not loaded"),t.ready.reject()})},this.isReady=function(){return this.ready.promise},this.getData=function(e){return this.data[e]},this.getDataByValue=function(e,t){var n=this.getData(e);return _.findWhere(n,{value:t})}}angular.module("springbok.core").service("enums",e),e.$inject=["$http","$q","$log","endpoints"]}(),function(){"use strict";function e(e,t,n,r,i){const a="asc";var s=function(e){this.configuration=e,this.createColumns(),this.initMaxPerPage(),this.getCriterias(),this.searched=!1,this.results={content:[],totalElements:0,currentPage:0}};return s.prototype.orderBy=function(e,t){this.configuration.currentOrderBy=e,_.isNull(t)||_.isUndefined(t)?this.configuration.columns[e]="asc"===this.configuration.columns[e]?"desc":"asc":this.configuration.columns[e]=t,this.search()},s.prototype.maxPerPage=function(e){this.configuration.maxPerPage=e},s.prototype.search=function(t){var n=this;_.isNull(t)||_.isUndefined(t)||(n.results.currentPage=t);var r={params:{direction:n.configuration.columns[n.configuration.currentOrderBy],properties:n.configuration.currentOrderBy,pageSize:n.configuration.maxPerPage,pageNumber:n.results.currentPage}};return _.isUndefined(n.configuration.form)||Object.keys(n.configuration.form).forEach(function(e){r.params[e]=_.isUndefined(n.configuration.form[e])?null:n.configuration.form[e]}),_.isNull(n.configuration.criteriasKey)||_.isUndefined(n.configuration.criteriasKey)||i.set(n.configuration.criteriasKey,r.params),e.debug("Search configuration for "+this.configuration.criteriasKey,this.configuration),this.fetch(r)},s.prototype.fetch=function(e){var i=this,a=t.defer();return n.get(i.configuration.endpoint,e).then(function(e){200===e.status&&(i.results=e.data,i.searched=!0,r.extendsPagedDataWithWalker(i.results)),a.resolve(i.results)},function(e){a.reject({reason:e.status})}),a.promise},s.prototype.initMaxPerPage=function(){(_.isNull(this.configuration.allMaxPerPage)||_.isUndefined(this.configuration.allMaxPerPage)||_.isEmpty(this.configuration.allMaxPerPage))&&(this.configuration.allMaxPerPage=r.defaultAllMaxPerPage),(_.isNull(this.configuration.maxPerPage)||_.isUndefined(this.configuration.maxPerPage))&&(this.configuration.maxPerPage=_.first(r.defaultAllMaxPerPage))},s.prototype.createColumns=function(){var e=this;e.configuration.columns={},e.configuration.columnList.forEach(function(t){e.configuration.columns[t.name]=t.name!==e.configuration.currentOrderBy?a:e.configuration.currentDirection})},s.prototype.getCriterias=function(){i.has(this.configuration.criteriasKey)&&(this.configuration.form=i.get(this.configuration.criteriasKey))},s}angular.module("springbok.core").factory("Search",e),e.$inject=["$log","$q","$http","pagination","searchCriterias"]}(),function(){"use strict";function e(){var e=this;e.defaultAllMaxPerPage=[50,100,200,1e3,2e3],e.setDefaultAllMaxPerPage=function(t){e.defaultAllMaxPerPage=t},e.extendsPagedDataWithWalker=function(e){0===e.number?(e.currentPageFrom=1,e.currentPageTo=e.numberOfElements<e.size?e.numberOfElements:e.size):(e.currentPageFrom=e.number*e.size+1,e.currentPageTo=e.numberOfElements<e.size?e.totalElements:e.currentPageFrom-1+e.size)}}angular.module("springbok.core").service("pagination",e)}(),function(){"use strict";function e(){return{restrict:"E",template:t,transclude:!0,replace:!0,scope:{search:"="}}}angular.module("springbok.core").directive("sbSearchColumns",e);var t='<th ng-repeat="column in search.configuration.columnList" ng-transcludeclass="pointer"ng-click="search.orderBy(column.name)"><i class="fa"'+"ng-class=\"(search.configuration.columns[column.name] === 'asc')  ? 'fa-caret-down' : 'fa-caret-up'\"></i>{{column.key | translate}}</th>"}(),function(){"use strict";function e(){return{restrict:"E",template:t,transclude:!0,replace:!0,scope:{search:"="}}}angular.module("springbok.core").directive("sbSearchFooter",e);var t='<div class="row-fluid"ng-show="search.results.totalElements > 0"><div class="span6"><div class="dataTables_info">{{\'SEARCH_RESULTS_CAPITALIZED\'| translate}} {{search.results.currentPageFrom}} {{\'SEARCH_TO\'| translate}} {{search.results.currentPageTo}} {{\'SEARCH_OF\'| translate}} {{search.results.totalElements}}</div></div><div class="span6"><uib-paginationboundary-links="true"items-per-page="configuration.maxPerPage"total-items="search.results.totalElements"ng-model="search.results.currentPage"ng-change="search.search()"class="pagination-sm"previous-text="&lsaquo;"next-text="&rsaquo;"first-text="&laquo;"last-text="&raquo;"></uib-pagination></div></div>;'}(),function(){"use strict";function e(){return{restrict:"E",template:t,transclude:!0,replace:!0,scope:{search:"="}}}angular.module("springbok.core").directive("sbSearchHeader",e);var t='<div class="table-header"ng-show="search.searched">{{search.results.totalElements}} {{\'SEARCH_RESULTS_LOWERCASE\' | translate}}<div class="pull-right table-header-tools form-inline"><label for="maxPerPage">{{\'SEARCH_MAXPERPAGE\' | translate}}</label><select id="maxPerPage"class="input-small"style="margin: 0 10px"ng-model="search.configuration.maxPerPage"ng-options="maxPerPage for maxPerPage in search.configuration.allMaxPerPage"ng-change="search.search()"></select></div></div>'}(),function(){"use strict";function e(){var e={};this.set=function(t,n){void 0!==t&&void 0!==n&&(e[t]=n)},this.getAll=function(){return e},this.has=function(t){return e.hasOwnProperty(t)},this.get=function(t){return e[t]},this.remove=function(t){void 0!==e[t]&&(e[t]=void 0)},this.clear=function(){e={}}}angular.module("springbok.core").service("searchCriterias",e)}(),function(){"use strict";function e(e){var t=this;t.isMinified=!1,t.items=e.all,t.collapseMenu=function(){t.isMinified=!t.isMinified},t.resetState=function(){t.items.forEach(function(e){e.isActive=!1,t.hasSubItems(e)&&(e.isSubMenuOpened=!1,e.subItems.forEach(function(e){e.isActive=!1}))})},t.hasSubItems=function(e){return!_.isNull(e.subItems)&&!_.isUndefined(e.subItems)},t.toggle=function(e,n){var r=!e.isSubMenuOpened,i=!_.isNull(n)&&!_.isUndefined(n);t.resetState(),t.hasSubItems(e)?r&&(e.isSubMenuOpened=!0):(i&&(n.isSubMenuOpened=!0),e.isActive=!0)}}angular.module("springbok.core").controller("menuController",e),e.$inject=["menuItems"]}(),function(){"use strict";function e(){var e=this;e.all=[],e.add=function(t){e.all.push(t)}}angular.module("springbok.core").service("menuItems",e)}(),function(){"use strict";function e(e){var t=this,n={delay:5e3,type:"info"};t.setDefaultDelay=function(e){n.delay=e||n.delay},t.display=function(t,r){r=r||n.delay,t.show=!0,_.isNull(t)||_.isUndefined(t)||e(function(){t.show=!1},r)},t.create=function(e,t){return e=e||n.type,{show:!1,type:e,message:t}}}angular.module("springbok.core").service("notification",e),e.$inject=["$timeout"]}(),function(){"use strict";function e(){return{restrict:"E",template:t,transclude:!0,replace:!0,scope:{type:"@",message:"=",show:"="},link:function(e,t,n){e.close=function(){e.show=!1},n.$observe("type",function(t){switch(t){case"info":e.typeClass="alert-info";break;case"success":e.typeClass="alert-success";break;case"warning":e.typeClass="alert-warning";break;case"error":e.typeClass="alert-danger";break;default:e.typeClass="alert-info"}})}}}angular.module("springbok.core").directive("sbNotification",e);var t='<div ng-show="show" class="alert fixed-notification {{typeClass}}" style="z-index: 2000; position: fixed; width: 25%; top: 5%; right: 0.5%;"><p style="float: left; width: 95%;">{{message | translate}}</p><button type="button" class="close" ng-click="close()" width: 5%;><i class="fa fa-times"></i></button></div>'}();